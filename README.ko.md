# CommandBar

macOS용 명령어 런처 및 일정 알림 앱

[English](README.md)

## 설치

### 다운로드 (권장)
1. [Releases](https://github.com/yejune/command-bar/releases)에서 DMG 다운로드
2. DMG 열고 CommandBar를 Applications로 드래그
3. 첫 실행: 우클릭 → 열기 (Gatekeeper 우회)

### 소스에서 빌드
```bash
make build
```

## 기능

### 1. 터미널 명령 실행
- iTerm2 또는 Terminal에서 명령 실행
- 현재 터미널 창에서 실행
- 명령 출력 히스토리에 저장
- 더블클릭 또는 우클릭 메뉴로 실행

### 2. 백그라운드 명령 실행
- 터미널 없이 백그라운드에서 명령 실행
- 결과가 리스트에 표시됨
- 주기 설정으로 자동 반복 실행
- 다음 실행까지 카운트다운 표시
- 마지막 실행 시간 기억 (앱 재시작 후에도 유지)
- 주기 프리셋: 10분, 1시간, 6시간, 12시간, 24시간, 7일

### 3. 스크립트 실행
- 파라미터 지원: `{파라미터명}` 형식으로 입력
- 옵션 선택 지원: `{파라미터명:옵션1|옵션2|옵션3}` 형식
- 실행 시 파라미터 값 입력 받음 (필수)
- 결과를 리사이즈 가능한 창으로 표시
- 쉘 특수문자 자동 이스케이프 (`"`, `$`, `` ` ``, `\`)
- 스마트 따옴표 자동 변환

```bash
# 예시
echo "Hello {name}"                    # name 텍스트 입력
curl -X {method:GET|POST|PUT} {url}    # method 드롭다운 선택, url 텍스트 입력
git checkout {branch:main|develop}     # branch 드롭다운 선택
```

### 4. 일정 알림
- 날짜/시간 설정으로 알림 예약
- 반복 설정: 매일, 매주, 매월
- 남은 시간 실시간 표시 (1일, 2시간, 30초...)
- 미리 알림: 1시간 전, 30분 전, 10분 전, 5분 전, 1분 전
- 시간이 되면 부르르 효과로 알림
- 클릭하면 확인:
  - 일회성: 체크 표시
  - 반복: 다음 알림 시간으로 자동 리셋

### 5. 히스토리
- 모든 실행 기록 저장 (최대 100개)
- 기록 유형: 실행, 백그라운드, 스크립트, 일정 알림, 미리 알림, 등록, 삭제, 복원, 제거
- 상세보기: 실행 명령어 + 출력 결과 확인 가능

### 6. 클립보드
- 클립보드 히스토리 모니터링 (최대 10,000개)
- 빠른 명령 등록
- Apple 메모로 보내기
- 상세 창에서 전체 내용 보기

### 7. 그룹
- 명령어를 색상별 그룹으로 정리
- 명령 목록에서 그룹별 필터링
- 드래그 앤 드롭으로 그룹 순서 변경
- 그룹 관리 페이지 (하단 폴더 아이콘)

### 8. 즐겨찾기
- 별 아이콘 클릭으로 즐겨찾기 토글
- 즐겨찾기만 필터링 가능
- 그룹 필터와 조합 사용 가능

### 9. 다국어 지원
- 한국어, 영어, 일본어
- 커스텀 언어팩 내보내기/가져오기

## 사용법

### 명령 추가
1. `+` 버튼 클릭
2. 제목 입력
3. 실행 방식 선택:
   - **터미널**: iTerm2 / Terminal 선택
   - **백그라운드**: 주기 입력 (0이면 수동)
   - **스크립트**: 파라미터 `{name}` 형식 지원
   - **일정**: 날짜/시간, 미리 알림 선택

### 명령 실행
- 더블클릭
- 우클릭 → 실행

### 명령 수정/삭제
- 우클릭 → 수정/삭제

### 순서 변경
- 드래그 앤 드롭

### 하단 버튼
- 📄 명령 목록
- ➕ 명령 추가
- 📁 그룹 관리
- 📋 클립보드
- 🕐 히스토리
- 🗑 휴지통
- ⚙️ 설정

### 설정
- **기본**: 항상 위에 표시, 로그인 시 시작, 배경 투명도
- **히스토리**: 최대 개수
- **클립보드**: 최대 개수, 메모 폴더명
- **백업**: 내보내기/가져오기 (JSON)
- **언어**: 한국어/영어/일본어, 커스텀 언어팩

## 단축키

- `↑/↓`: 항목 선택
- `Enter`: 선택한 항목 실행
- `Delete`: 선택한 항목 삭제

## 백그라운드 명령 예시

| 명령 | 설명 | 주기 |
|------|------|------|
| `date +%H:%M:%S` | 현재 시간 | 1초 |
| `uptime` | 시스템 가동 시간 | 60초 |
| `df -h \| head -2` | 디스크 사용량 | 300초 |
| `curl -s "wttr.in/Seoul?format=3"` | 서울 날씨 | 3600초 |

## 데이터 저장 경로

- 설정: `~/.command_bar/app.json`
- 히스토리: `~/.command_bar/history.json`
- 클립보드: `~/.command_bar/clipboard.json`

## 요구사항

- macOS 14.0+
- Swift 5.9+
